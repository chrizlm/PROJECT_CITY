{"ast":null,"code":"var _jsxFileName = \"/Users/christopherlijoodi/Desktop/CITYPARK/src/components/SideBar/SideNavBar.js\",\n    _s = $RefreshSig$();\n\n/*\nimport * as React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { SideMenu } from \"./SideMenu\";\nimport {AttendantSideMenu} from \"./AttendantSideMenu\";\nimport {AdminSideMenu} from \"./AdminSideMenu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Menu from \"@mui/material/Menu\";\nimport LoginDialog from \"../LoginDialog\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport { Divider } from '@mui/material';\nimport {useEffect, useState} from \"react\";\nimport AuthService from \"../../service/auth.service\";\nimport jwt from 'jwt-decode';\n\nexport default function SideNavBar() {\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const[motoristPage, setMotoristPage] = useState(false);\n  const[attendantPage, setAttendantPage] = useState(false);\n  const[adminPage, setAdminPage] = useState(false);\n  const [currentUser, setCurrentUser] = useState(undefined);\n\n\n  useEffect(() =>{\n    const user = AuthService.getCurrentUser();\n\n    //const isAdmin = JSON.parse(atob(user.split('.')[1])).role === 'ROLE_MOTORIST';\n\n    if(user){\n      setCurrentUser(user);\n      setMotoristPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_MOTORIST');\n      setAttendantPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_ATTENDANT');\n      setAdminPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_ADMIN');\n    }\n   /*\n    if(user){\n      setCurrentUser(user);\n      setMotoristPage(user.role.includes(\"ROLE_MOTORIST\"));\n      setAttendantPage(user.role.includes(\"ROLE_ATTENDANT\"));\n      setAdminPage(user.role.includes(\"ROLE_ATTENDANT\"));\n    }\n    (//*)\n  }, []);\n\n  const login = () =>{\n    setIsAuthenticated(true);\n    console.log(\"loggedInUser:\" + isAuthenticated);\n  }\n\n  const logout = () =>{\n   /* setIsAuthenticated(false);\n    console.log(\"loggedInUser:\" + isAuthenticated);\n    (//*)\n    AuthService.logout();\n  }\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n          onClick={handleClick}\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n          >\n            <MenuIcon  />\n            <Menu\n              id=\"basic-menu\"\n              anchorEl={anchorEl}\n              open={open}\n              onClose={handleClose}\n              MenuListProps={{\n                \"aria-labelledby\": \"basic-button\",\n              }}\n            >\n\n                {motoristPage && (\n                  SideMenu.map((menuitem, index) => {\n                    return (\n                        <div key={index}>\n                          <MenuItem onClick={handleClose}>\n                            <li key={index}>\n                              <Link to={menuitem.path}>\n                                {menuitem.icon}\n                                {menuitem.title}\n                              </Link>\n                            </li>\n                          </MenuItem>\n                        </div>\n                    );\n                  }))\n                }\n              {attendantPage && (\n                  AttendantSideMenu.map((menuitem, index) => {\n                    return (\n                        <div key={index}>\n                          <MenuItem onClick={handleClose}>\n                            <li key={index}>\n                              <Link to={menuitem.path}>\n                                {menuitem.icon}\n                                {menuitem.title}\n                              </Link>\n                            </li>\n                          </MenuItem>\n                        </div>\n                    );\n                  }))\n              }\n              {adminPage && (\n                  AdminSideMenu.map((menuitem, index) => {\n                    return (\n                        <div key={index}>\n                          <MenuItem onClick={handleClose}>\n                            <li key={index}>\n                              <Link to={menuitem.path}>\n                                {menuitem.icon}\n                                {menuitem.title}\n                              </Link>\n                            </li>\n                          </MenuItem>\n                        </div>\n                    );\n                  }))\n              }\n\n              <Divider />\n             <div><MenuItem onClick={handleClose}>Profile</MenuItem></div>\n             <div><MenuItem onClick={handleClose}>My account</MenuItem></div>\n             <div><MenuItem onClick={logout}>Logout</MenuItem></div>\n            </Menu>\n          </IconButton>\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n            Parking App\n          </Typography>\n          <LoginDialog />\n        </Toolbar>\n      </AppBar>\n    </Box>\n  );\n}\n\n*/\nimport * as React from 'react';\nimport { styled, useTheme } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport MuiDrawer from '@mui/material/Drawer';\nimport MuiAppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport List from '@mui/material/List';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport InboxIcon from '@mui/icons-material/MoveToInbox';\nimport MailIcon from '@mui/icons-material/Mail';\nimport AuthService from \"../../service/auth.service\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport { useEffect, useState } from \"react\";\nimport { SideMenu } from \"./SideMenu\";\nimport { AttendantSideMenu } from \"./AttendantSideMenu\";\nimport { AdminSideMenu } from \"./AdminSideMenu\";\nimport { Link } from \"react-router-dom\";\nimport Menu from \"@mui/material/Menu\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst drawerWidth = 240;\n\nconst openedMixin = theme => ({\n  width: drawerWidth,\n  transition: theme.transitions.create('width', {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.enteringScreen\n  }),\n  overflowX: 'hidden'\n});\n\nconst closedMixin = theme => ({\n  transition: theme.transitions.create('width', {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen\n  }),\n  overflowX: 'hidden',\n  width: `calc(${theme.spacing(7)} + 1px)`,\n  [theme.breakpoints.up('sm')]: {\n    width: `calc(${theme.spacing(9)} + 1px)`\n  }\n});\n\nconst DrawerHeader = styled('div')(({\n  theme\n}) => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'flex-end',\n  padding: theme.spacing(0, 1),\n  // necessary for content to be below app bar\n  ...theme.mixins.toolbar\n}));\nconst AppBar = styled(MuiAppBar, {\n  shouldForwardProp: prop => prop !== 'open'\n})(({\n  theme,\n  open\n}) => ({\n  zIndex: theme.zIndex.drawer + 1,\n  transition: theme.transitions.create(['width', 'margin'], {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen\n  }),\n  ...(open && {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  })\n}));\nconst Drawer = styled(MuiDrawer, {\n  shouldForwardProp: prop => prop !== 'open'\n})(({\n  theme,\n  open\n}) => ({\n  width: drawerWidth,\n  flexShrink: 0,\n  whiteSpace: 'nowrap',\n  boxSizing: 'border-box',\n  ...(open && { ...openedMixin(theme),\n    '& .MuiDrawer-paper': openedMixin(theme)\n  }),\n  ...(!open && { ...closedMixin(theme),\n    '& .MuiDrawer-paper': closedMixin(theme)\n  })\n}));\nexport default function SideNavBar() {\n  _s();\n\n  //from prev code\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [motoristPage, setMotoristPage] = useState(false);\n  const [attendantPage, setAttendantPage] = useState(false);\n  const [adminPage, setAdminPage] = useState(false);\n  const [currentUser, setCurrentUser] = useState(undefined);\n  /*\n    useEffect(() =>{\n      const user = AuthService.getCurrentUser();\n  \n      //const isAdmin = JSON.parse(atob(user.split('.')[1])).role === 'ROLE_MOTORIST';\n  \n      if(user){\n        setCurrentUser(user);\n        setMotoristPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_MOTORIST');\n        setAttendantPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_ATTENDANT');\n        setAdminPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_ADMIN');\n      }\n    }, []);\n  \n   */\n\n  const login = () => {\n    setIsAuthenticated(true);\n    console.log(\"loggedInUser:\" + isAuthenticated);\n  };\n\n  const logout = () => {\n    setIsAuthenticated(false);\n    console.log(\"loggedInUser:\" + isAuthenticated);\n    AuthService.logout();\n  };\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"fixed\",\n      open: open,\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"inherit\",\n          \"aria-label\": \"open drawer\",\n          onClick: handleDrawerOpen,\n          edge: \"start\",\n          sx: {\n            marginRight: '36px',\n            ...(open && {\n              display: 'none'\n            })\n          },\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          noWrap: true,\n          component: \"div\",\n          children: \"Mini variant drawer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      variant: \"permanent\",\n      open: open,\n      children: [/*#__PURE__*/_jsxDEV(DrawerHeader, {\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleDrawerClose,\n          children: theme.direction === 'rtl' ? /*#__PURE__*/_jsxDEV(ChevronRightIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 41\n          }, this) : /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: [SideMenu.map((menuitem, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(MenuItem, {\n              onClick: handleClose,\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: menuitem.path,\n                  children: [menuitem.icon, menuitem.title]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 26\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 24\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 22\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 20\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: handleClose,\n            children: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: handleClose,\n            children: \"My account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: logout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 4\n  }, this);\n}\n\n_s(SideNavBar, \"dLvEEhW/I8mOo2DS4KKW/7O03R8=\", false, function () {\n  return [useTheme];\n});\n\n_c = SideNavBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SideNavBar\");","map":{"version":3,"sources":["/Users/christopherlijoodi/Desktop/CITYPARK/src/components/SideBar/SideNavBar.js"],"names":["React","styled","useTheme","Box","MuiDrawer","MuiAppBar","Toolbar","List","CssBaseline","Typography","Divider","IconButton","MenuIcon","ChevronLeftIcon","ChevronRightIcon","ListItem","ListItemIcon","ListItemText","InboxIcon","MailIcon","AuthService","MenuItem","useEffect","useState","SideMenu","AttendantSideMenu","AdminSideMenu","Link","Menu","drawerWidth","openedMixin","theme","width","transition","transitions","create","easing","sharp","duration","enteringScreen","overflowX","closedMixin","leavingScreen","spacing","breakpoints","up","DrawerHeader","display","alignItems","justifyContent","padding","mixins","toolbar","AppBar","shouldForwardProp","prop","open","zIndex","drawer","marginLeft","Drawer","flexShrink","whiteSpace","boxSizing","SideNavBar","isAuthenticated","setIsAuthenticated","anchorEl","setAnchorEl","motoristPage","setMotoristPage","attendantPage","setAttendantPage","adminPage","setAdminPage","currentUser","setCurrentUser","undefined","login","console","log","logout","handleClick","event","currentTarget","handleClose","setOpen","handleDrawerOpen","handleDrawerClose","marginRight","direction","map","menuitem","index","path","icon","title"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,sBAAjC;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,eAAP,MAA4B,iCAA5B;AACA,OAAOC,gBAAP,M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","sourcesContent":["/*\nimport * as React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { SideMenu } from \"./SideMenu\";\nimport {AttendantSideMenu} from \"./AttendantSideMenu\";\nimport {AdminSideMenu} from \"./AdminSideMenu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Menu from \"@mui/material/Menu\";\nimport LoginDialog from \"../LoginDialog\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport { Divider } from '@mui/material';\nimport {useEffect, useState} from \"react\";\nimport AuthService from \"../../service/auth.service\";\nimport jwt from 'jwt-decode';\n\nexport default function SideNavBar() {\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const[motoristPage, setMotoristPage] = useState(false);\n  const[attendantPage, setAttendantPage] = useState(false);\n  const[adminPage, setAdminPage] = useState(false);\n  const [currentUser, setCurrentUser] = useState(undefined);\n\n\n  useEffect(() =>{\n    const user = AuthService.getCurrentUser();\n\n    //const isAdmin = JSON.parse(atob(user.split('.')[1])).role === 'ROLE_MOTORIST';\n\n    if(user){\n      setCurrentUser(user);\n      setMotoristPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_MOTORIST');\n      setAttendantPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_ATTENDANT');\n      setAdminPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_ADMIN');\n    }\n   /*\n    if(user){\n      setCurrentUser(user);\n      setMotoristPage(user.role.includes(\"ROLE_MOTORIST\"));\n      setAttendantPage(user.role.includes(\"ROLE_ATTENDANT\"));\n      setAdminPage(user.role.includes(\"ROLE_ATTENDANT\"));\n    }\n    (//*)\n  }, []);\n\n  const login = () =>{\n    setIsAuthenticated(true);\n    console.log(\"loggedInUser:\" + isAuthenticated);\n  }\n\n  const logout = () =>{\n   /* setIsAuthenticated(false);\n    console.log(\"loggedInUser:\" + isAuthenticated);\n    (//*)\n    AuthService.logout();\n  }\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n          onClick={handleClick}\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n          >\n            <MenuIcon  />\n            <Menu\n              id=\"basic-menu\"\n              anchorEl={anchorEl}\n              open={open}\n              onClose={handleClose}\n              MenuListProps={{\n                \"aria-labelledby\": \"basic-button\",\n              }}\n            >\n\n                {motoristPage && (\n                  SideMenu.map((menuitem, index) => {\n                    return (\n                        <div key={index}>\n                          <MenuItem onClick={handleClose}>\n                            <li key={index}>\n                              <Link to={menuitem.path}>\n                                {menuitem.icon}\n                                {menuitem.title}\n                              </Link>\n                            </li>\n                          </MenuItem>\n                        </div>\n                    );\n                  }))\n                }\n              {attendantPage && (\n                  AttendantSideMenu.map((menuitem, index) => {\n                    return (\n                        <div key={index}>\n                          <MenuItem onClick={handleClose}>\n                            <li key={index}>\n                              <Link to={menuitem.path}>\n                                {menuitem.icon}\n                                {menuitem.title}\n                              </Link>\n                            </li>\n                          </MenuItem>\n                        </div>\n                    );\n                  }))\n              }\n              {adminPage && (\n                  AdminSideMenu.map((menuitem, index) => {\n                    return (\n                        <div key={index}>\n                          <MenuItem onClick={handleClose}>\n                            <li key={index}>\n                              <Link to={menuitem.path}>\n                                {menuitem.icon}\n                                {menuitem.title}\n                              </Link>\n                            </li>\n                          </MenuItem>\n                        </div>\n                    );\n                  }))\n              }\n\n              <Divider />\n             <div><MenuItem onClick={handleClose}>Profile</MenuItem></div>\n             <div><MenuItem onClick={handleClose}>My account</MenuItem></div>\n             <div><MenuItem onClick={logout}>Logout</MenuItem></div>\n            </Menu>\n          </IconButton>\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n            Parking App\n          </Typography>\n          <LoginDialog />\n        </Toolbar>\n      </AppBar>\n    </Box>\n  );\n}\n\n*/\n\n\nimport * as React from 'react';\nimport { styled, useTheme } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport MuiDrawer from '@mui/material/Drawer';\nimport MuiAppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport List from '@mui/material/List';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Typography from '@mui/material/Typography';\nimport Divider from '@mui/material/Divider';\nimport IconButton from '@mui/material/IconButton';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport InboxIcon from '@mui/icons-material/MoveToInbox';\nimport MailIcon from '@mui/icons-material/Mail';\nimport AuthService from \"../../service/auth.service\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport {useEffect, useState} from \"react\";\nimport { SideMenu } from \"./SideMenu\";\nimport {AttendantSideMenu} from \"./AttendantSideMenu\";\nimport {AdminSideMenu} from \"./AdminSideMenu\";\nimport { Link } from \"react-router-dom\";\nimport Menu from \"@mui/material/Menu\";\n\nconst drawerWidth = 240;\n\nconst openedMixin = (theme) => ({\n  width: drawerWidth,\n  transition: theme.transitions.create('width', {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.enteringScreen,\n  }),\n  overflowX: 'hidden',\n});\n\nconst closedMixin = (theme) => ({\n  transition: theme.transitions.create('width', {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen,\n  }),\n  overflowX: 'hidden',\n  width: `calc(${theme.spacing(7)} + 1px)`,\n  [theme.breakpoints.up('sm')]: {\n    width: `calc(${theme.spacing(9)} + 1px)`,\n  },\n});\n\nconst DrawerHeader = styled('div')(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'flex-end',\n  padding: theme.spacing(0, 1),\n  // necessary for content to be below app bar\n  ...theme.mixins.toolbar,\n}));\n\nconst AppBar = styled(MuiAppBar, {\n  shouldForwardProp: (prop) => prop !== 'open',\n})(({ theme, open }) => ({\n  zIndex: theme.zIndex.drawer + 1,\n  transition: theme.transitions.create(['width', 'margin'], {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen,\n  }),\n  ...(open && {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  }),\n}));\n\nconst Drawer = styled(MuiDrawer, { shouldForwardProp: (prop) => prop !== 'open' })(\n    ({ theme, open }) => ({\n      width: drawerWidth,\n      flexShrink: 0,\n      whiteSpace: 'nowrap',\n      boxSizing: 'border-box',\n      ...(open && {\n        ...openedMixin(theme),\n        '& .MuiDrawer-paper': openedMixin(theme),\n      }),\n      ...(!open && {\n        ...closedMixin(theme),\n        '& .MuiDrawer-paper': closedMixin(theme),\n      }),\n    }),\n);\n\nexport default function SideNavBar() {\n\n\n\n  //from prev code\n  const [isAuthenticated, setIsAuthenticated] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const[motoristPage, setMotoristPage] = useState(false);\n  const[attendantPage, setAttendantPage] = useState(false);\n  const[adminPage, setAdminPage] = useState(false);\n  const [currentUser, setCurrentUser] = useState(undefined);\n\n/*\n  useEffect(() =>{\n    const user = AuthService.getCurrentUser();\n\n    //const isAdmin = JSON.parse(atob(user.split('.')[1])).role === 'ROLE_MOTORIST';\n\n    if(user){\n      setCurrentUser(user);\n      setMotoristPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_MOTORIST');\n      setAttendantPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_ATTENDANT');\n      setAdminPage(JSON.parse(atob(user.split('.')[1])).roles[0] === 'ROLE_ADMIN');\n    }\n  }, []);\n\n */\n\n\n    const login = () =>{\n      setIsAuthenticated(true);\n      console.log(\"loggedInUser:\" + isAuthenticated);\n    }\n\n    const logout = () =>{\n\n      setIsAuthenticated(false);\n      console.log(\"loggedInUser:\" + isAuthenticated);\n\n AuthService.logout();\n}\nconst handleClick = (event) => {\n setAnchorEl(event.currentTarget);\n};\nconst handleClose = () => {\n setAnchorEl(null);\n};\n\n\n\n\n\nconst theme = useTheme();\nconst [open, setOpen] = React.useState(false);\n\nconst handleDrawerOpen = () => {\n setOpen(true);\n};\n\nconst handleDrawerClose = () => {\n setOpen(false);\n};\n\nreturn (\n   <Box sx={{ display: 'flex' }}>\n     <CssBaseline />\n     <AppBar position=\"fixed\" open={open}>\n       <Toolbar>\n         <IconButton\n             color=\"inherit\"\n             aria-label=\"open drawer\"\n             onClick={handleDrawerOpen}\n             edge=\"start\"\n             sx={{\n               marginRight: '36px',\n               ...(open && { display: 'none' }),\n             }}\n         >\n           <MenuIcon />\n         </IconButton>\n         <Typography variant=\"h6\" noWrap component=\"div\">\n           Mini variant drawer\n         </Typography>\n       </Toolbar>\n     </AppBar>\n     <Drawer variant=\"permanent\" open={open}>\n       <DrawerHeader>\n         <IconButton onClick={handleDrawerClose}>\n           {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n         </IconButton>\n       </DrawerHeader>\n       <Divider />\n       <List>\n\n         {\n             SideMenu.map((menuitem, index) => {\n               return (\n                   <div key={index}>\n                     <MenuItem onClick={handleClose}>\n                       <li key={index}>\n                         <Link to={menuitem.path}>\n                           {menuitem.icon}\n                           {menuitem.title}\n                         </Link>\n                       </li>\n                     </MenuItem>\n                   </div>\n               );\n             })\n         }\n\n\n\n         <Divider />\n         <div><MenuItem onClick={handleClose}>Profile</MenuItem></div>\n         <div><MenuItem onClick={handleClose}>My account</MenuItem></div>\n         <div><MenuItem onClick={logout}>Logout</MenuItem></div>\n       </List>\n     </Drawer>\n   </Box>\n);\n}\n"]},"metadata":{},"sourceType":"module"}