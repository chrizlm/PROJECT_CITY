{"ast":null,"code":"var _jsxFileName = \"/Users/christopherlijoodi/Documents/CITY_PARKING_PROJECT/FRONTEND/src/pages/Support.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles } from \"@mui/styles\";\nimport { Box, Button, Grid, Paper } from '@mui/material';\nimport Controls from \"../components/controls/Controls\";\nimport { Form } from \"../components/UseForm\";\nimport * as SockJS from 'sockjs-client';\nimport * as Stomp from 'stompjs';\nimport TextField from \"@mui/material/TextField\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  pageContent: {\n    margin: \"40px\",\n    padding: \"24px\"\n  }\n});\nconst initialFieldValues = {\n  type: \"\",\n  content: \"\",\n  sender: \"\"\n};\nvar socket = new SockJS('http://localhost:8080/ws');\nconst stompClient = Stomp.over(socket);\nexport default function Support() {\n  _s();\n\n  const [messageDetail, setMessageDetail] = useState(initialFieldValues); //const [stompClient, setStompClient] = useState();\n\n  useEffect(() => {\n    connection();\n  }, []);\n\n  const connection = event => {\n    // var socket = new SockJS('http://localhost:8080/ws');\n    //stompClient = Stomp.over(socket);\n    stompClient.connect({\n      'Access-Control-Allow-Origin': 'http://localhost:3000'\n    }, onConnected);\n  };\n\n  const onConnected = () => {\n    stompClient.subscribe('http://localhost:8080/topic/public', onMessageReceived);\n    stompClient.send(\"http://localhost:8080/app/chat.addUser\", {\n      'Access-Control-Allow-Origin': 'http://localhost:3000'\n    }, JSON.stringify({\n      sender: \"userA\",\n      type: 'JOIN'\n    }));\n  };\n\n  const handleSubmitMessage = event => {\n    event.preventDefault();\n    const data = {\n      type: messageDetail.type,\n      content: messageDetail.content,\n      sender: messageDetail.sender\n    };\n    stompClient.send(\"http://localhost:8080/app/chat.sendMessage\", {\n      'Access-Control-Allow-Origin': 'http://localhost:3000'\n    }, JSON.stringify(data));\n  };\n\n  const onMessageReceived = messagePayload => {\n    var message = JSON.parse(messagePayload.body);\n\n    if (message.type === 'JOIN') {\n      message.content = message.sender + ' joined!';\n    } else if (message.type === 'LEAVE') {\n      message.content = message.sender + ' left!';\n    }\n\n    var messageText = document.createTextNode(message.content);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: messageText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  };\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setMessageDetail({ ...messageDetail,\n      [name]: value\n    });\n  };\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        '& > :not(style)': {\n          m: 1,\n          width: '100%',\n          height: '100%'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Support\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        className: classes.pageContent,\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          children: onMessageReceived\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmitMessage,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                variant: \"outlined\",\n                label: \"Help\",\n                placeholder: \"Type any issue you need of assistance with ...\",\n                multiline: true,\n                rows: 7,\n                maxRows: 7,\n                name: \"help\",\n                value: messageDetail.content,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                fullWidth: true,\n                onClick: handleSubmitMessage,\n                children: \"SEND\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Support, \"2tTks/3ctlwop6yW9IuCdhDYPhA=\", false, function () {\n  return [useStyles];\n});\n\n_c = Support;\n\nvar _c;\n\n$RefreshReg$(_c, \"Support\");","map":{"version":3,"sources":["/Users/christopherlijoodi/Documents/CITY_PARKING_PROJECT/FRONTEND/src/pages/Support.js"],"names":["React","useEffect","useState","makeStyles","Box","Button","Grid","Paper","Controls","Form","SockJS","Stomp","TextField","useStyles","pageContent","margin","padding","initialFieldValues","type","content","sender","socket","stompClient","over","Support","messageDetail","setMessageDetail","connection","event","connect","onConnected","subscribe","onMessageReceived","send","JSON","stringify","handleSubmitMessage","preventDefault","data","messagePayload","message","parse","body","messageText","document","createTextNode","handleInputChange","e","name","value","target","classes","display","flexWrap","m","width","height"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {makeStyles} from \"@mui/styles\";\nimport {Box, Button, Grid, Paper} from '@mui/material';\nimport Controls from \"../components/controls/Controls\";\nimport {Form} from \"../components/UseForm\";\nimport * as SockJS from 'sockjs-client';\nimport * as Stomp from 'stompjs';\nimport TextField from \"@mui/material/TextField\";\n\n\nconst useStyles = makeStyles({\n    pageContent: {\n        margin: \"40px\",\n        padding: \"24px\",\n    },\n\n});\n\n\nconst initialFieldValues = {\n    type: \"\",\n    content: \"\",\n    sender: \"\",\n};\n\nvar socket = new SockJS('http://localhost:8080/ws');\nconst stompClient = Stomp.over(socket);\n\n\nexport default function Support() {\n    const [messageDetail, setMessageDetail] =useState(initialFieldValues);\n    //const [stompClient, setStompClient] = useState();\n\n\n    useEffect(() =>{\n        connection();\n    }, []);\n\n    const connection = (event) =>{\n       // var socket = new SockJS('http://localhost:8080/ws');\n        //stompClient = Stomp.over(socket);\n\n        stompClient.connect({\n            'Access-Control-Allow-Origin': 'http://localhost:3000',\n        }, onConnected)\n    }\n\n    const onConnected = () =>{\n        stompClient.subscribe('http://localhost:8080/topic/public', onMessageReceived);\n        stompClient.send(\n            \"http://localhost:8080/app/chat.addUser\",\n            {'Access-Control-Allow-Origin': 'http://localhost:3000',},\n            JSON.stringify({sender: \"userA\", type: 'JOIN'})\n        )\n    }\n\n    const handleSubmitMessage = (event) =>{\n        event.preventDefault();\n\n        const data = {\n            type: messageDetail.type,\n            content: messageDetail.content,\n            sender: messageDetail.sender,\n        }\n\n        stompClient.send(\"http://localhost:8080/app/chat.sendMessage\", {'Access-Control-Allow-Origin': 'http://localhost:3000',}, JSON.stringify(data));\n\n    };\n\n    const onMessageReceived =(messagePayload) =>{\n        var message = JSON.parse(messagePayload.body);\n        if(message.type === 'JOIN') {\n            message.content = message.sender + ' joined!';\n        } else if (message.type === 'LEAVE') {\n            message.content = message.sender + ' left!';\n        }\n\n\n        var messageText = document.createTextNode(message.content);\n        return(\n            <div>{messageText}</div>\n        )\n    }\n\n\n    const handleInputChange = e =>{\n\n        const {name, value} = e.target\n        setMessageDetail({\n            ...messageDetail,\n            [name]: value,\n        })\n    }\n\n    const classes = useStyles();\n    return (\n        <>\n\n\n\n            <Box\n                sx={{\n                    display: 'flex',\n                    flexWrap: 'wrap',\n                    '& > :not(style)': {\n                        m: 1,\n                        width: '100%',\n                        height: '100%',\n                    },\n                }}\n            >\n                <div>\n                    <h1>Support</h1>\n                </div>\n                <Paper elevation={3} className={classes.pageContent}>\n                   <ul>\n                       {onMessageReceived}\n                   </ul>\n\n                    <Form onSubmit={handleSubmitMessage}>\n                        <Grid container>\n                            <Grid item xs={6}>\n                                <TextField\n                                    variant=\"outlined\"\n                                    label=\"Help\"\n                                    placeholder=\"Type any issue you need of assistance with ...\"\n                                    multiline\n                                    rows={7}\n                                    maxRows={7}\n                                    name=\"help\"\n                                    value={messageDetail.content}\n                                    onChange={handleInputChange}\n                                />\n                                <Button variant=\"contained\"\n                                        fullWidth\n                                        onClick={handleSubmitMessage}\n                                >SEND</Button>\n                            </Grid>\n                        </Grid>\n                    </Form>\n                </Paper>\n            </Box>\n\n        </>\n\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}